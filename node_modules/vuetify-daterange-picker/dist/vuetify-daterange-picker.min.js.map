{"version":3,"file":"vuetify-daterange-picker.min.js","sources":["../src/DateRange.vue","../src/index.js"],"sourcesContent":["<template>\n  <div class=\"date-range\">\n    <div\n      v-if=\"!noPresets\"\n      class=\"date-range__presets\"\n    >\n      <v-list :dark=\"dark\">\n        <v-subheader>{{ labels.preset }}</v-subheader>\n        <v-list-tile\n          v-for=\"(preset, index) in presets\"\n          v-model=\"isPresetActive[index]\"\n          :key=\"index\"\n          @click=\"onPresetSelect(index)\"\n        >\n          <v-list-tile-content>\n            {{ preset.label }}\n          </v-list-tile-content>\n        </v-list-tile>\n      </v-list>\n    </div>\n    <div class=\"date-range__pickers\">\n      <div class=\"date-range__picker date-range__pickers--start\">\n        <v-text-field\n          v-model=\"formattedStartDate\"\n          :label=\"`${labels.start}(${format})`\"\n          name=\"startDate\"\n          class=\"date-range__pickers-input\"\n          :prepend-icon=\"prependIcon\"\n          readonly\n        />\n        <v-date-picker\n          :next-icon=\"nextIcon\"\n          :prev-icon=\"prevIcon\"\n          :dark=\"dark\"\n          :events=\"highlightRange ? dateRange.dates : events\"\n          :event-color=\"highlightRange ? dateRange.colors : eventColor\"\n          v-model=\"startDate\"\n          :min=\"options.minDate\"\n          :max=\"endDate\"\n          :locale=\"locale\"\n          :first-day-of-week=\"firstDayOfWeek\"\n          no-title\n          @change=\"onDateRangeChange\"\n        />\n      </div>\n      <div class=\"date-range__picker date-range__picker--end\">\n        <v-text-field\n          :label=\"`${labels.end}(${format})`\"\n          v-model=\"formattedEndDate\"\n          name=\"endDate\"\n          class=\"date-range__pickers-input\"\n          readonly\n        />\n        <v-date-picker\n          :next-icon=\"nextIcon\"\n          :prev-icon=\"prevIcon\"\n          :dark=\"dark\"\n          :min=\"startDate\"\n          :max=\"maxDate\"\n          :events=\"highlightRange ? dateRange.dates : events\"\n          :event-color=\"highlightRange ? dateRange.colors : eventColor\"\n          v-model=\"endDate\"\n          :locale=\"locale\"\n          :first-day-of-week=\"firstDayOfWeek\"\n          no-title\n          @change=\"onDateRangeChange\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { format, parse } from 'date-fns';\n\nexport default {\n  name: 'v-daterange',\n  props: {\n    options: {\n      type: Object,\n      required: true,\n    },\n    noPresets: {\n      type: Boolean,\n      default: false,\n    },\n    dark: {\n      type: Boolean,\n      default: false,\n    },\n    prependIcon: {\n      type: String,\n      default: 'event',\n    },\n    nextIcon: {\n      type: String,\n      default: 'chevron_right',\n    },\n    prevIcon: {\n      type: String,\n      default: 'chevron_left',\n    },\n    labels: {\n      type: Object,\n      default() {\n        return {\n          start: 'Start Date',\n          end: 'End Date',\n          preset: 'Presets',\n        };\n      },\n    },\n    events: {\n      type: [Array, Object, Function],\n      default: () => null,\n    },\n    eventColor: {\n      type: [String, Function, Object],\n      default: 'warning',\n    },\n    highlightRange: {\n      type: Boolean,\n      default: true,\n    },\n    highlightColors: {\n      type: String,\n      default: '',\n    },\n    locale: {\n      type: String,\n      default: 'en-us',\n    },\n    firstDayOfWeek: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      startDate: this.options.startDate,\n      endDate: this.options.endDate,\n      format: this.options.format,\n      presets: this.options.presets,\n      dateRange: {\n        dates: [],\n        colors: {},\n      },\n    };\n  },\n  computed: {\n    formattedStartDate() {\n      return this.startDate\n        ? format(parse(this.startDate), this.format)\n        : '';\n    },\n    formattedEndDate() {\n      return this.endDate ? format(parse(this.endDate), this.format) : '';\n    },\n    highlightColorClasses() {\n      if (this.highlightColors) {\n        return this.highlightColors;\n      }\n      return this.dark ? 'blue-grey darken-1' : 'blue lighten-5';\n    },\n    isPresetActive() {\n      return this.presets.map(\n        preset =>\n          preset.range[0] === this.startDate && preset.range[1] === this.endDate\n      );\n    },\n    today() {\n      return format(new Date(), 'YYYY-MM-DD');\n    },\n    maxDate() {\n      return this.options.maxDate || this.today;\n    },\n  },\n  watch: {\n    startDate() {\n      this.onDateRangeChange();\n    },\n    endDate() {\n      this.onDateRangeChange();\n    },\n  },\n  mounted() {\n    if (this.highlightRange) this.setInRangeData();\n  },\n  methods: {\n    onPresetSelect(presetIndex) {\n      this.startDate = this.presets[presetIndex].range[0];\n      this.endDate = this.presets[presetIndex].range[1];\n    },\n    onDateRangeChange() {\n      if (this.highlightRange) this.setInRangeData();\n      this.$emit('input', [this.startDate, this.endDate]);\n    },\n    setInRangeData() {\n      const inRangeData = {\n        dates: [],\n        colors: {},\n      };\n\n      if (this.highlightRange) {\n        const startDate = parse(this.startDate);\n        const endDate = parse(this.endDate);\n        const diffDays = (endDate - startDate) / (1000 * 3600 * 24);\n\n        for (let i = 0; i <= diffDays; i += 1) {\n          const date = this.addDays(startDate.toDateString(), i);\n          inRangeData.dates.push(date);\n          inRangeData.colors[date] = `date-range__date-in-range ${\n            this.highlightColorClasses\n          }`;\n\n          if (i === 0) inRangeData.colors[date] += ' date-range__range-start';\n          if (i === diffDays)\n            inRangeData.colors[date] += ' date-range__range-end';\n        }\n      }\n\n      this.dateRange = inRangeData;\n    },\n    addDays(date, days) {\n      const result = parse(date);\n      result.setDate(result.getDate() + days);\n      return format(result, 'YYYY-MM-DD');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.date-range {\n  display: flex;\n}\n\n.date-range__presets {\n  margin-right: 1rem;\n}\n\n.date-range__pickers {\n  display: flex;\n}\n\n.date-range__picker {\n  padding: 0 1rem;\n}\n.date-range >>> .date-picker-table table, .date-range >>> .v-date-picker-table table {\n  border-collapse: collapse;\n}\n.date-range >>> .date-picker-table__event.date-range__date-in-range, .date-range >>> .v-date-picker-table__event.date-range__date-in-range {\n  z-index: 0;\n  /* override existing settings */\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  border-radius: 0;\n}\n.date-range\n  >>> .date-picker-table__event.date-range__date-in-range.date-range__range-start,\n  .date-range\n    >>> .v-date-picker-table__event.date-range__date-in-range.date-range__range-start {\n  border-top-left-radius: 50%;\n  border-bottom-left-radius: 50%;\n  /* Cover only date button */\n  left: 7px;\n  width: 31px;\n}\n.date-range\n  >>> .date-picker-table__event.date-range__date-in-range.date-range__range-end,\n  .date-range\n    >>> .v-date-picker-table__event.date-range__date-in-range.date-range__range-end {\n  border-top-right-radius: 50%;\n  border-bottom-right-radius: 50%;\n}\n.date-range >>> .date-picker-table .btn, .date-range >>> .v-date-picker-table .v-btn {\n  /* fixed zIndex is needed because .date-picker-table__event div is created after the .btn button */\n  z-index: 1;\n}\n</style>\n","import DateRange from './DateRange.vue';\n\nconst VDateRange = {\n  install(Vue) {\n    Vue.component(DateRange.name, DateRange);\n  },\n};\n\nexport default VDateRange;\n"],"names":["render","Object","Boolean","String","Array","Function","Number","this","options","startDate","endDate","format","presets","parse","highlightColors","dark","map","preset","range","Date","maxDate","today","onDateRangeChange","highlightRange","setInRangeData","presetIndex","$emit","inRangeData","diffDays","i","date","addDays","toDateString","dates","push","colors","dateRange","days","result","setDate","getDate","Vue","component","DateRange","name"],"mappings":";;;;4OA2EA,OAAgBA,2pEACR,mCAGIC,iBACI,mBAGJC,iBACG,cAGHA,iBACG,qBAGHC,eACG,wBAGHA,eACG,gCAGHA,eACG,6BAGHF,uCAGK,iBACF,kBACG,2BAKLG,MAAOH,OAAQI,oCACP,yBAGRF,OAAQE,SAAUJ,gBAChB,gCAGHC,iBACG,yBAGHC,eACG,iBAGHA,eACG,8BAGHG,eACG,qCAKEC,KAAKC,QAAQC,kBACfF,KAAKC,QAAQE,eACdH,KAAKC,QAAQG,eACZJ,KAAKC,QAAQI,wFASfL,KAAKE,UACRE,SAAOE,QAAMN,KAAKE,WAAYF,KAAKI,QACnC,uCAGGJ,KAAKG,QAAUC,SAAOE,QAAMN,KAAKG,SAAUH,KAAKI,QAAU,4CAG7DJ,KAAKO,gBACAP,KAAKO,gBAEPP,KAAKQ,KAAO,qBAAuB,8DAGnCR,KAAKK,QAAQI,aAClBC,UACEA,EAAOC,MAAM,KAAOX,EAAKE,WAAaQ,EAAOC,MAAM,KAAOX,EAAKG,mCAI5DC,SAAO,IAAIQ,KAAQ,yCAGnBZ,KAAKC,QAAQY,SAAWb,KAAKc,yCAK/BC,6CAGAA,yCAIHf,KAAKgB,gBAAgBhB,KAAKiB,mDAGfC,QACRhB,UAAYF,KAAKK,QAAQa,GAAaP,MAAM,QAC5CR,QAAUH,KAAKK,QAAQa,GAAaP,MAAM,iCAG3CX,KAAKgB,gBAAgBhB,KAAKiB,sBACzBE,MAAM,SAAUnB,KAAKE,UAAWF,KAAKG,yCAGpCiB,0BAKFpB,KAAKgB,uBACDd,EAAYI,QAAMN,KAAKE,WAEvBmB,GADUf,QAAMN,KAAKG,SACCD,SAEnBoB,EAAI,EAAGA,GAAKD,EAAUC,GAAK,EAAG,KAC/BC,OAAYC,QAAQtB,EAAUuB,eAAgBH,KACxCI,MAAMC,KAAKJ,KACXK,OAAOL,GAAS,kCAE3B,sBAES,IAAND,IAASF,EAAYQ,OAAOL,IAAS,4BACrCD,IAAMD,IACRD,EAAYQ,OAAOL,IAAS,+BAI7BM,UAAYT,oBAEXG,EAAMO,OACNC,EAASzB,QAAMiB,YACdS,QAAQD,EAAOE,UAAYH,GAC3B1B,SAAO2B,EAAQ,yCC/NlBG,KACFC,UAAUC,EAAUC,KAAMD"}